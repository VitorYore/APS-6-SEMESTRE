{% extends "base.html" %}

{% block title %}Monitor em Tempo Real{% endblock %}

{% block content %}
<div class="grid-2">
    <div class="card">
        <h2>ğŸ“¹ Monitor de CÃ¢mera</h2>
        <div style="margin-top: 1.5rem;">
            <img src="{{ url_for('camera.video_feed') }}" class="video-feed" alt="Feed de vÃ­deo" id="video-stream">
        </div>
        <div style="margin-top: 1rem; text-align: center;">
            <button onclick="stopCameraStream()" class="btn-danger">
                â¹ï¸ Parar CÃ¢mera
            </button>
        </div>
    </div>
    
    <div>
        <div class="card">
            <h2>âš¡ Status em Tempo Real</h2>
            <div style="margin-top: 1.5rem;">
                <div id="status-display" class="status-display">
                    <div id="status-icon" class="status-icon">ğŸ”</div>
                    <h3 id="status-text" style="color: #6b7280; margin-bottom: 0.5rem;">
                        Aguardando detecÃ§Ã£o...
                    </h3>
                    <p id="status-user" style="font-size: 1.5rem; font-weight: bold; color: #111827;"></p>
                    <p id="status-confidence" style="color: #6b7280; margin-top: 0.5rem;"></p>
                </div>
                
                <div class="alert alert-info">
                    <h4>â„¹ï¸ InformaÃ§Ãµes</h4>
                    <p>
                        ğŸ¥ O vÃ­deo roda a <strong>30 FPS</strong> para visualizaÃ§Ã£o fluida.<br>
                        ğŸ” O reconhecimento facial Ã© feito a cada <strong>1 segundo</strong>.<br>
                        ğŸ¯ Threshold configurado: <strong>0.7</strong><br>
                        ğŸ’¡ <strong>Bolinha verde</strong> no canto indica quando estÃ¡ verificando.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="card" style="margin-top: 2rem;">
            <h2>ğŸ‘¥ UsuÃ¡rios Ativos</h2>
            <div id="active-users" style="margin-top: 1rem;">
                <p class="loading">Carregando...</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/monitor.js') }}"></script>
{% endblock %}